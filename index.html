<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLPI Knowledge Base - Modern Preview</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css" rel="stylesheet"/>

    <!-- Custom Styles -->
    <link href="styles.css" rel="stylesheet"/>
</head>
<body>
    <div class="kb-container d-flex overflow-hidden position-relative">
        <!-- Left Sidebar: Document Tree -->
        <aside class="kb-sidebar d-flex flex-column">
            <div class="kb-sidebar-content flex-fill overflow-auto p-2">
                <!-- Sidebar Toggle Button -->
                <div class="px-2 pt-2 pb-1 d-flex">
                    <button type="button" class="btn btn-sm btn-link text-secondary p-0 ms-auto kb-sidebar-toggle" onclick="toggleSidebar()" title="Toggle sidebar">
                        <i class="ti ti-layout-sidebar-left-collapse"></i>
                    </button>
                </div>
                <!-- Search -->
                <div class="px-2 pt-2 pb-1">
                    <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1" data-bs-toggle="modal" data-bs-target="#searchModal">
                        <i class="ti ti-search"></i>
                        <span>Search...</span>
                    </a>
                </div>

                <!-- Drafts -->
                <div class="px-2 pb-3">
                    <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1">
                        <i class="ti ti-file-text"></i>
                        <span>Drafts</span>
                        <span class="badge bg-secondary bg-opacity-25 text-dark ms-auto">2</span>
                    </a>
                </div>

                <!-- Favorites Section -->
                <div class="doc-section-title px-2 pt-3 pb-2 text-uppercase small fw-semibold">Favorites</div>
                <ul class="doc-tree list-unstyled">
                    <li class="doc-tree-item">
                        <div class="d-flex align-items-center doc-tree-row">
                            <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                <i class="ti ti-star-filled text-warning"></i>
                                <span>FAQ</span>
                            </a>
                        </div>
                    </li>
                    <li class="doc-tree-item">
                        <div class="d-flex align-items-center doc-tree-row">
                            <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                <i class="ti ti-star-filled text-warning"></i>
                                <span>Best Practices</span>
                            </a>
                        </div>
                    </li>
                </ul>

                <!-- Main Documents -->
                <div class="doc-section-title px-2 pt-3 pb-2 text-uppercase small fw-semibold">Documents</div>
                <ul class="doc-tree list-unstyled">
                    <li class="doc-tree-item">
                        <div class="d-flex align-items-center doc-tree-row">
                            <button class="doc-tree-toggle border-0 bg-transparent p-0" onclick="toggleTree(this)">
                                <i class="ti ti-chevron-down"></i>
                            </button>
                            <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                <i class="ti ti-book"></i>
                                <span>GLPI</span>
                            </a>
                        </div>
                        <ul class="doc-tree-nested list-unstyled ps-4">
                            <li class="doc-tree-item">
                                <div class="d-flex align-items-center doc-tree-row">
                                    <button class="doc-tree-toggle border-0 bg-transparent p-0" onclick="toggleTree(this)">
                                        <i class="ti ti-chevron-down"></i>
                                    </button>
                                    <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                        <i class="ti ti-school"></i>
                                        <span>Tutorials</span>
                                    </a>
                                </div>
                                <ul class="doc-tree-nested list-unstyled ps-4">
                                    <li class="doc-tree-item">
                                        <div class="d-flex align-items-center doc-tree-row">
                                            <button class="doc-tree-toggle border-0 bg-transparent p-0" onclick="toggleTree(this)">
                                                <i class="ti ti-chevron-down"></i>
                                            </button>
                                            <a href="#" class="doc-tree-link active fw-semibold d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                                <img src="assets/icon.svg" alt="" class="kb-sidebar-icon">
                                                <span>Getting Started</span>
                                            </a>
                                        </div>
                                        <ul class="doc-tree-nested list-unstyled ps-4">
                                            <li class="doc-tree-item">
                                                <div class="d-flex align-items-center doc-tree-row">
                                                    <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                                        <i class="ti ti-file-text"></i>
                                                        <span>Installation Guide</span>
                                                    </a>
                                                </div>
                                            </li>
                                            <li class="doc-tree-item">
                                                <div class="d-flex align-items-center doc-tree-row">
                                                    <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                                        <i class="ti ti-file-text"></i>
                                                        <span>Quick Start Tutorial</span>
                                                    </a>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>

                                    <li class="doc-tree-item">
                                        <div class="d-flex align-items-center doc-tree-row">
                                            <button class="doc-tree-toggle border-0 bg-transparent p-0" onclick="toggleTree(this)">
                                                <i class="ti ti-chevron-down"></i>
                                            </button>
                                            <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                                <i class="ti ti-settings"></i>
                                                <span>Configuration</span>
                                            </a>
                                        </div>
                                        <ul class="doc-tree-nested list-unstyled ps-4">
                                            <li class="doc-tree-item">
                                                <div class="d-flex align-items-center doc-tree-row">
                                                    <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                                        <i class="ti ti-file-text"></i>
                                                        <span>System Settings</span>
                                                    </a>
                                                </div>
                                            </li>
                                            <li class="doc-tree-item">
                                                <div class="d-flex align-items-center doc-tree-row">
                                                    <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                                        <i class="ti ti-file-text"></i>
                                                        <span>User Management</span>
                                                    </a>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>

                                    <li class="doc-tree-item">
                                        <div class="d-flex align-items-center doc-tree-row">
                                            <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                                <i class="ti ti-lifebuoy"></i>
                                                <span>Troubleshooting</span>
                                            </a>
                                        </div>
                                    </li>

                                    <li class="doc-tree-item">
                                        <div class="d-flex align-items-center doc-tree-row">
                                            <a href="#" class="doc-tree-link d-flex align-items-center text-decoration-none rounded gap-2 px-0 py-1 flex-fill">
                                                <i class="ti ti-api"></i>
                                                <span>API Reference</span>
                                            </a>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="kb-main flex-fill d-flex flex-column overflow-hidden">
            <div class="kb-content-header bg-opacity-90 px-4 py-3 d-flex align-items-center justify-content-between">
                <nav class="kb-breadcrumb d-flex align-items-center gap-2 text-secondary small" aria-label="breadcrumb">
                    <span><i class="ti ti-book me-1"></i>GLPI <span class="mx-2">/</span> <i class="ti ti-school me-1"></i>Tutorials</span>
                    <span class="kb-breadcrumb-title mx-2" style="display: none;"><span class="mx-2">/</span> <i class="ti ti-rocket me-1"></i>Getting Started with GLPI</span>
                </nav>

                <div class="kb-actions d-flex align-items-center gap-3">
                    <!-- Modify Button -->
                    <button type="button" class="btn btn-sm btn-outline-secondary" onclick="toggleEditMode()">
                        <i class="ti ti-edit"></i> Modify
                    </button>

                    <!-- Action Menu (populated from template) -->
                    <div class="action-menu action-menu-host"></div>
                </div>
            </div>

            <div class="kb-content-wrapper flex-fill d-flex overflow-hidden position-relative">
                <div class="kb-content flex-fill overflow-auto">
                    <div class="kb-document-wrapper bg-white rounded-3 px-5 pt-3 mx-auto">
                        <div class="kb-document-header d-flex align-items-center gap-3 mb-2">
                            <span class="kb-title-icon-wrapper" onclick="openIconModal()"><img src="assets/icon.svg" alt="" class="kb-title-icon"></span>
                            <h1 class="display-5 fw-bold mb-0 kb-document-title">Getting Started with GLPI</h1>
                        </div>

                         <!-- Translation Mode Alert -->
                        <div id="translationModeAlert" class="kb-translation-alert alert position-relative d-none" role="alert" style="display: none !important;">
                            <div class="kb-translation-actions">
                                <a href="#" class="kb-translation-action kb-translation-delete btn btn-ghost-danger btn-sm" onclick="toggleTranslationMode(); return false;" title="Delete current translation" aria-label="Delete current translation">
                                    <i class="ti ti-trash"></i>
                                </a>
                                <a href="#" class="kb-translation-action kb-translation-return btn btn-ghost-secondary btn-sm" onclick="toggleTranslationMode(); return false;" title="Return to original document" aria-label="Return to original document">
                                    <i class="ti ti-x"></i>
                                </a>
                            </div>
                            <div class="d-flex align-items-center justify-content-between gap-3 pe-4 flex-wrap">
                                <div class="d-flex align-items-center gap-2 flex-wrap">
                                    <i class="ti ti-language"></i>
                                    <span>Translation mode enabled; currently editing </span>
                                    <div class="dropdown d-inline-block">
                                        <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                            <span id="selectedLanguage">English</span>
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                                            <li><a class="dropdown-item d-flex justify-content-between align-items-center active" href="#" onclick="selectLanguage('en', event)">English<i class="ti ti-check"></i></a></li>
                                            <li><a class="dropdown-item d-flex justify-content-between align-items-center" href="#" onclick="selectLanguage('fr', event)">Fran√ßais<i class="ti ti-check"></i></a></li>
                                            <li><a class="dropdown-item d-flex justify-content-between align-items-center" href="#" onclick="selectLanguage('de', event)">Deutsch</a></li>
                                            <li><a class="dropdown-item d-flex justify-content-between align-items-center" href="#" onclick="selectLanguage('es', event)">Espa√±ol<i class="ti ti-check"></i></a></li>
                                            <li><a class="dropdown-item d-flex justify-content-between align-items-center" href="#" onclick="selectLanguage('it', event)">Italiano</a></li>
                                        </ul>
                                    </div>
                                    <span>language.</span>
                                </div>
                            </div>
                        </div>

                        <div class="kb-document-meta d-flex align-items-center gap-3 text-secondary small mb-4 pb-4">
                            <a href="#" class="text-secondary text-decoration-none" onclick="toggleHistoryPanel(); return false;">
                                <span><i class="ti ti-clock"></i> Updated 2 hours ago by <span class="mention badge bg-primary bg-opacity-10 text-primary">@Jane Smith</span></span>
                            </a>
                            <span><i class="ti ti-eye"></i> 1,234 views</span>
                            <a href="#" class="text-secondary text-decoration-none" onclick="toggleTranslationMode(); return false;">
                                <span class="kb-translations-count">
                                    <i class="ti ti-language"></i> 4 translations
                                </span>
                            </a>
                            <a href="#kb-documents" class="text-secondary text-decoration-none kb-documents-link" onclick="scrollToDocuments(event, 'documents')">
                                <i class="ti ti-paperclip"></i> 5 documents
                            </a>
                            <a href="#kb-documents" class="text-secondary text-decoration-none kb-documents-link" onclick="scrollToDocuments(event, 'items')">
                                <i class="ti ti-link"></i> 3 related items
                            </a>
                        </div>

                        <article class="kb-document">
                            <p class="lead">
                            Welcome to the new GLPI Knowledge Base! <span class="emoji">üëã</span> This guide will help you get started
                            with the platform and understand its core features.
                        </p>

                        <h2 id="section-introduction" class="mt-5 pt-3">Introduction</h2>
                        <p>
                            <mark class="kb-highlight" data-comment="1">GLPI is a powerful IT Asset Management and Service Desk solution.</mark> This documentation
                            will guide you through installation, configuration, and daily usage. If you have any
                            questions, feel free to mention <span class="mention badge bg-primary bg-opacity-10 text-primary">@Support Team</span> in the comments.
                        </p>

                        <h3 id="section-what-is-glpi" class="mt-4">What is GLPI?</h3>
                        <p>
                            GLPI stands for "Gestionnaire Libre de Parc Informatique" (Free IT Equipment Manager).
                            It's an open-source solution that helps organizations manage their IT infrastructure
                            efficiently. <span class="emoji">üöÄ</span>
                        </p>

                        <h2 id="section-installation" class="mt-5 pt-3">Installation</h2>
                        <p>
                            Installing GLPI is straightforward. Follow these steps to get your instance up and running:
                        </p>

                        <ol>
                            <li>Download the latest version from the official website</li>
                            <li>Extract the archive to your web server directory</li>
                            <li>Create a MySQL database for GLPI</li>
                            <li>Run the installation wizard by accessing your server URL</li>
                            <li>Follow the on-screen instructions to complete setup</li>
                        </ol>

                        <h3 id="section-system-requirements" class="mt-4">System Requirements</h3>
                        <p>
                            Before installing, ensure your system meets the minimum requirements:
                        </p>
                        <ul>
                            <li><mark class="kb-highlight" data-comment="2">PHP 7.4 or higher</mark></li>
                            <li>MySQL 5.7+ or MariaDB 10.2+</li>
                            <li>Apache or Nginx web server</li>
                            <li>At least 2GB of RAM (4GB recommended)</li>
                        </ul>

                        <h2 id="section-configuration" class="mt-5 pt-3">Initial Configuration</h2>
                        <p>
                            Once installed, you'll want to <mark class="kb-highlight" data-comment="3">configure GLPI for your organization</mark>. The configuration
                            process includes setting up entities, defining user roles, and configuring notifications.
                            <span class="emoji">‚öôÔ∏è</span>
                        </p>

                        <p>
                            For detailed configuration steps, please refer to the Configuration section or contact
                            <span class="mention badge bg-primary bg-opacity-10 text-primary">@Admin Team</span> for assistance.
                        </p>

                        <h3 id="section-first-steps" class="mt-4">First Steps</h3>
                        <p>
                            After configuration, here are the recommended first steps:
                        </p>
                        <ul>
                            <li>Create your first entity and locations</li>
                            <li>Import or add your IT assets</li>
                            <li>Set up user accounts and profiles</li>
                            <li>Configure email notifications</li>
                            <li>Customize the interface to match your branding <span class="emoji">üé®</span></li>
                        </ul>

                        <h2 id="section-getting-help" class="mt-5 pt-3">Getting Help</h2>
                        <p>
                            If you need assistance, there are several resources available:
                        </p>
                        <ul>
                            <li>Browse this knowledge base for detailed documentation</li>
                            <li>Join the GLPI community forums</li>
                            <li>Contact <span class="mention badge bg-primary bg-opacity-10 text-primary">@Support Team</span> through the ticketing system</li>
                            <li>Check out video tutorials on our YouTube channel <span class="emoji">üì∫</span></li>
                        </ul>

                        <!-- Documents & Related Items Section -->
                        <div id="kb-documents" class="kb-documents-footer mt-5 pt-4">
                            <ul class="nav nav-underline kb-footer-nav mb-3" id="kbFooterTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="kb-documents-tab-btn" data-bs-toggle="tab" data-bs-target="#kb-documents-tab" type="button" role="tab" aria-controls="kb-documents-tab" aria-selected="true" data-footer-tab="documents">
                                        <i class="ti ti-paperclip me-1"></i>Documents <span class="badge bg-secondary bg-opacity-25 text-dark ms-1">5</span>
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="kb-items-tab-btn" data-bs-toggle="tab" data-bs-target="#kb-items-tab" type="button" role="tab" aria-controls="kb-items-tab" aria-selected="false" data-footer-tab="items">
                                        <i class="ti ti-link me-1"></i>Related items <span class="badge bg-secondary bg-opacity-25 text-dark ms-1">3</span>
                                    </button>
                                </li>
                            </ul>

                            <div class="tab-content kb-footer-tab-content">
                                <div class="tab-pane fade show active" id="kb-documents-tab" role="tabpanel" aria-labelledby="kb-documents-tab-btn">
                                    <div class="d-flex flex-wrap gap-2 mb-2">
                                        <a href="#" class="kb-document-badge badge bg-light text-dark d-flex align-items-center gap-2 text-decoration-none">
                                            <i class="ti ti-file-type-pdf text-danger"></i>
                                            <span>GLPI Installation Guide.pdf</span>
                                        </a>
                                        <a href="#" class="kb-document-badge badge bg-light text-dark d-flex align-items-center gap-2 text-decoration-none">
                                            <i class="ti ti-file-type-doc text-primary"></i>
                                            <span>Quick Start Checklist.docx</span>
                                        </a>
                                        <a href="#" class="kb-document-badge badge bg-light text-dark d-flex align-items-center gap-2 text-decoration-none">
                                            <i class="ti ti-file-zip text-warning"></i>
                                            <span>Configuration Templates.zip</span>
                                        </a>
                                        <a href="#" class="kb-document-badge badge bg-light text-dark d-flex align-items-center gap-2 text-decoration-none">
                                            <i class="ti ti-file-spreadsheet text-success"></i>
                                            <span>Asset Inventory Template.xlsx</span>
                                        </a>
                                        <a href="#" class="kb-document-badge badge bg-light text-dark d-flex align-items-center gap-2 text-decoration-none">
                                            <i class="ti ti-file-text text-info"></i>
                                            <span>System Requirements.txt</span>
                                        </a>
                                    </div>

                                    <button class="btn btn-sm btn-outline-primary mt-2" data-bs-toggle="modal" data-bs-target="#addDocumentModal">
                                        <i class="ti ti-plus me-1"></i>Add Document
                                    </button>
                                </div>

                                <div class="tab-pane fade" id="kb-items-tab" role="tabpanel" aria-labelledby="kb-items-tab-btn">
                                    <div class="d-flex flex-wrap gap-2 mb-2">
                                        <a href="#" class="kb-document-badge badge bg-light text-dark d-flex align-items-center gap-2 text-decoration-none">
                                            <i class="ti ti-device-laptop text-primary"></i>
                                            <span>Laptop-23</span>
                                        </a>
                                        <a href="#" class="kb-document-badge badge bg-light text-dark d-flex align-items-center gap-2 text-decoration-none">
                                            <i class="ti ti-ticket text-warning"></i>
                                            <span>Ticket #4821</span>
                                        </a>
                                        <a href="#" class="kb-document-badge badge bg-light text-dark d-flex align-items-center gap-2 text-decoration-none">
                                            <i class="ti ti-briefcase text-success"></i>
                                            <span>Project: Migration</span>
                                        </a>
                                    </div>

                                    <button class="btn btn-sm btn-outline-primary mt-2" data-bs-toggle="modal" data-bs-target="#addDocumentModal">
                                        <i class="ti ti-link me-1"></i>Link to another item
                                    </button>
                                </div>
                            </div>
                        </div>
                        </article>
                    </div>

                    <!-- Right Sidebar: Scrollspy Navigation (Absolute positioned) -->
                    <aside class="kb-scrollspy bg-white bg-opacity-85 p-4 overflow-auto position-absolute" style="right: 0; top: 0; bottom: 0; width: 240px;">
                        <h4 class="text-uppercase small fw-semibold text-secondary mb-3">On This Page</h4>
                        <ul class="scrollspy-nav list-unstyled">
                            <li><a href="#section-introduction" class="nav-link active py-1 text-secondary small">Introduction</a></li>
                            <li><a href="#section-what-is-glpi" class="nav-link level-3 py-1 ps-3 text-secondary small">What is GLPI?</a></li>
                            <li><a href="#section-installation" class="nav-link py-1 text-secondary small">Installation</a></li>
                            <li><a href="#section-system-requirements" class="nav-link level-3 py-1 ps-3 text-secondary small">System Requirements</a></li>
                            <li><a href="#section-configuration" class="nav-link py-1 text-secondary small">Initial Configuration</a></li>
                            <li><a href="#section-first-steps" class="nav-link level-3 py-1 ps-3 text-secondary small">First Steps</a></li>
                            <li><a href="#section-getting-help" class="nav-link py-1 text-secondary small">Getting Help</a></li>
                        </ul>
                    </aside>

                    <!-- Comments Panel (Fixed to viewport) -->
                    <aside class="kb-comments-panel bg-white bg-opacity-85 position-fixed" style="right: 0; top: 0; bottom: 0; width: 300px; height: 100vh;">
                        <div class="d-flex align-items-center justify-content-between p-4 border-bottom">
                            <h4 class="text-uppercase small fw-semibold text-secondary mb-0">Comments (3)</h4>
                            <button class="btn btn-sm btn-link text-secondary" onclick="toggleCommentsPanel()">
                                <i class="ti ti-x"></i>
                            </button>
                        </div>
                        <div class="kb-comments-list overflow-auto flex-fill">
                            <div class="kb-comment p-3 border-bottom" data-comment="1">
                                <div class="d-flex align-items-center justify-content-between gap-2 mb-2">
                                    <div class="d-flex align-items-center gap-2">
                                        <div class="bg-primary bg-opacity-10 rounded-circle" style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; color: rgb(58, 86, 147);">JD</div>
                                        <div>
                                            <div class="small fw-semibold text-dark">Jane Doe</div>
                                            <div class="small text-secondary">2 hours ago</div>
                                        </div>
                                    </div>
                                    <button class="btn btn-sm btn-link text-success p-0" title="Mark as resolved">
                                        <i class="ti ti-check"></i>
                                    </button>
                                </div>
                                <p class="small text-secondary mb-0">Great introduction! This clearly explains the purpose of GLPI. Maybe we should add info about enterprise support options?</p>
                            </div>

                            <div class="kb-comment p-3 border-bottom resolved" data-comment="2">
                                <div class="d-flex align-items-center justify-content-between gap-2 mb-2">
                                    <div class="d-flex align-items-center gap-2">
                                        <div class="bg-success bg-opacity-10 rounded-circle" style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; color: #15803d;">MB</div>
                                        <div>
                                            <div class="small fw-semibold text-dark">Mark Brown</div>
                                            <div class="small text-secondary">1 hour ago</div>
                                        </div>
                                    </div>
                                    <span class="badge bg-success">Resolved</span>
                                </div>
                                <p class="small text-secondary mb-0">Should we mention compatibility with <span class="mention badge bg-primary bg-opacity-10 text-primary">@John Smith</span>'s infrastructure? PHP version requirement is crucial for our setup.</p>
                            </div>

                            <div class="kb-comment p-3 border-bottom" data-comment="3">
                                <div class="d-flex align-items-center justify-content-between gap-2 mb-2">
                                    <div class="d-flex align-items-center gap-2">
                                        <div class="bg-warning bg-opacity-10 rounded-circle" style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; color: #b45309;">LP</div>
                                        <div>
                                            <div class="small fw-semibold text-dark">Laura Park</div>
                                            <div class="small text-secondary">15 minutes ago</div>
                                        </div>
                                    </div>
                                    <button class="btn btn-sm btn-link text-success p-0" title="Mark as resolved">
                                        <i class="ti ti-check"></i>
                                    </button>
                                </div>
                                <p class="small text-secondary mb-0">Configuration section needs more details. The step-by-step guide should be easier to follow for non-technical users.</p>
                            </div>
                        </div>
                        <div class="kb-comment-compose border-top p-3">
                            <textarea class="form-control form-control-sm mb-2" rows="3" placeholder="Add a comment..."></textarea>
                            <div class="d-flex justify-content-end gap-2">
                                <button class="btn btn-sm btn-outline-secondary">Cancel</button>
                                <button class="btn btn-sm btn-primary">Comment</button>
                            </div>
                        </div>
                    </aside>

                    <!-- History Panel (Fixed to viewport) -->
                    <aside class="kb-history-panel bg-white bg-opacity-85 position-fixed" style="right: 0; top: 0; bottom: 0; width: 320px; height: 100vh;">
                        <div class="d-flex align-items-center justify-content-between p-4 border-bottom">
                            <h4 class="text-uppercase small fw-semibold text-secondary mb-0">Version History</h4>
                            <button class="btn btn-sm btn-link text-secondary" onclick="toggleHistoryPanel()">
                                <i class="ti ti-x"></i>
                            </button>
                        </div>
                        <div class="kb-history-list overflow-auto p-3">
                            <ul class="steps steps-vertical">
                                <li class="step-item">
                                    <div class="small fw-semibold text-dark">Current Version</div>
                                    <div class="text-secondary small mt-2">
                                        <p class="mb-2">Updated by <span class="mention badge bg-primary bg-opacity-10 text-primary">@John Doe</span><span class="ms-1 mb-0 text-muted small">5 minutes ago</span></p>
                                    </div>
                                </li>
                                <li class="step-item event-item">
                                    <div class="small fw-semibold text-dark d-flex align-items-center gap-2">
                                        <i class="ti ti-share-2 text-info"></i>
                                        Document shared publicly
                                    </div>
                                    <div class="text-secondary small mt-2">
                                        <p class="mb-2">Shared by <span class="mention badge bg-primary bg-opacity-10 text-primary">@Jane Smith</span><span class="ms-1 mb-0 text-muted small">45 minutes ago</span></p>
                                    </div>
                                </li>
                                <li class="step-item" data-version="3">
                                    <div class="small fw-semibold text-dark d-flex align-items-center justify-content-between">
                                        Version 3
                                        <button class="btn btn-sm btn-outline-primary ms-2" onclick="revertToVersion(3)">Revert</button>
                                    </div>
                                    <div class="text-secondary small mt-2">
                                        <p class="mb-2">Updated by <span class="mention badge bg-primary bg-opacity-10 text-primary">@Jane Smith</span><span class="ms-1 mb-0 text-muted small">1 hour ago</span></p>
                                    </div>
                                </li>
                                <li class="step-item event-item">
                                    <div class="small fw-semibold text-dark d-flex align-items-center gap-2">
                                        <i class="ti ti-lock text-warning"></i>
                                        Permissions changed
                                    </div>
                                    <div class="text-secondary small mt-2">
                                        <p class="mb-2">Modified by <span class="mention badge bg-primary bg-opacity-10 text-primary">@Admin</span><span class="ms-1 mb-0 text-muted small">2 hours ago</span></p>
                                        <p class="mb-0 text-muted">Added write access for <span class="mention badge bg-primary bg-opacity-10 text-primary">@Documentation Team</span></p>
                                    </div>
                                </li>
                                <li class="step-item" data-version="2">
                                    <div class="small fw-semibold text-dark d-flex align-items-center justify-content-between">
                                        Version 2
                                        <button class="btn btn-sm btn-outline-primary ms-2" onclick="revertToVersion(2)">Revert</button>
                                    </div>
                                    <div class="text-secondary small mt-2">
                                        <p class="mb-2">Updated by <span class="mention badge bg-primary bg-opacity-10 text-primary">@Mark Johnson</span><span class="ms-1 mb-0 text-muted small">3 hours ago</span></p>
                                    </div>
                                </li>
                                <li class="step-item event-item">
                                    <div class="small fw-semibold text-dark d-flex align-items-center gap-2">
                                        <i class="ti ti-users text-success"></i>
                                        Added to collection
                                    </div>
                                    <div class="text-secondary small mt-2">
                                        <p class="mb-2">Added by <span class="mention badge bg-primary bg-opacity-10 text-primary">@John Doe</span><span class="ms-1 mb-0 text-muted small">6 hours ago</span></p>
                                        <p class="mb-0 text-muted">Added to "Getting Started" collection</p>
                                    </div>
                                </li>
                                <li class="step-item" data-version="1">
                                    <div class="small fw-semibold text-dark d-flex align-items-center justify-content-between">
                                        Version 1
                                        <button class="btn btn-sm btn-outline-primary ms-2" onclick="revertToVersion(1)">Revert</button>
                                    </div>
                                    <div class="text-secondary small mt-2">
                                        <p class="mb-2">Created by <span class="mention badge bg-primary bg-opacity-10 text-primary">@Admin</span><span class="ms-1 mb-0 text-muted small">1 day ago</span></p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </aside>
        </main>
    </div>

    <!-- Text Selection Popup -->
    <div id="textSelectionPopup" class="text-selection-popup" style="display: none;">
        <button type="button" class="btn btn-sm btn-primary" onclick="addCommentFromSelection()">
            <i class="ti ti-message-circle me-1"></i>Add Comment
        </button>
    </div>

    <!-- Add-child Button Template -->
    <template id="doc-add-child-template">
        <div class="doc-add-child">
            <button class="btn btn-sm p-0" type="button" aria-label="Add sub-document">
                <i class="ti ti-plus"></i>
            </button>
        </div>
    </template>

    <!-- Document Action Menu Template -->
    <template id="doc-action-menu-template">
        <div class="doc-action-menu dropdown" data-bs-auto-close="outside">
            <button class="btn btn-sm p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="ti ti-dots"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="#" onclick="toggleHistoryPanel(); return false;"><i class="ti ti-history me-2"></i>View History</a></li>
                <li><a class="dropdown-item" href="#" onclick="toggleCommentsPanel(); return false;"><i class="ti ti-message-circle me-2"></i>Comments</a></li>
                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#permissionsModal"><i class="ti ti-lock me-2"></i>Permissions and sharing</a></li>
                <li><a class="dropdown-item" href="#" onclick="toggleTranslationMode(); return false;"><i class="ti ti-language me-2"></i>Translation mode</a></li>
                <li><hr class="dropdown-divider"></li>
                <li>
                    <a class="dropdown-item favorites-toggle-link" href="#" onclick="toggleFavorites(event); return false;">
                        <i class="ti ti-star me-2"></i>
                        <div class="d-flex align-items-center justify-content-between w-100">
                            <span>Add to favorites</span>
                            <div class="favorites-toggle-switch">
                                <input type="checkbox" class="favorites-toggle-checkbox">
                                <label class="favorites-toggle-label"></label>
                            </div>
                        </div>
                    </a>
                </li>
                <li>
                    <a class="dropdown-item faq-toggle-link" href="#" onclick="toggleFAQ(event); return false;">
                        <i class="ti ti-bookmark me-2"></i>
                        <div class="d-flex align-items-center justify-content-between w-100">
                            <span>Add to FAQ</span>
                            <div class="faq-toggle-switch">
                                <input type="checkbox" class="faq-toggle-checkbox">
                                <label class="faq-toggle-label"></label>
                            </div>
                        </div>
                    </a>
                </li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#"><i class="ti ti-printer me-2"></i>Print</a></li>
                <li
                    <a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                        <i class="ti ti-download me-2"></i>Download as...
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#"><i class="ti ti-file-code me-2"></i>HTML</a></li>
                        <li><a class="dropdown-item" href="#"><i class="ti ti-file-type-pdf me-2"></i>PDF</a></li>
                        <li><a class="dropdown-item" href="#"><i class="ti ti-markdown me-2"></i>Markdown</a></li>
                    </ul>
                </li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item text-danger" href="#"><i class="ti ti-trash me-2"></i>Delete permanently</a></li>
            </ul>
        </div>
    </template>

    <!-- Search Modal -->
    <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title" id="searchModalLabel">
                        <i class="ti ti-search me-2"></i>Search Knowledge Base
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <!-- Fuzzy Search Input -->
                    <div class="mb-4">
                        <div class="input-group input-group-lg">
                            <span class="input-group-text bg-light border-0">
                                <i class="ti ti-search text-muted"></i>
                            </span>
                            <input type="text" class="form-control form-control-lg border-0 ps-2" id="searchFuzzyInput" 
                                   placeholder="Type to search... (fuzzy matching enabled)">
                        </div>
                        <small class="text-muted d-block mt-2">
                            <i class="ti ti-info-circle me-1"></i>
                            Fuzzy search matches partial words and is typo-tolerant
                        </small>
                    </div>

                    <!-- Search Results / Recent Searches -->
                    <div id="searchResults" style="display: none;">
                        <h6 class="text-muted text-uppercase small fw-semibold mb-3">Search Results</h6>
                        <div class="list-group">
                            <a href="#" class="list-group-item list-group-item-action">
                                <div class="d-flex w-100 justify-content-between">
                                    <h6 class="mb-1">Installation Guide</h6>
                                    <small class="text-muted">50% match</small>
                                </div>
                                <p class="mb-1 small text-muted">GLPI > Tutorials > Getting Started</p>
                            </a>
                        </div>
                    </div>

                    <div id="recentSearches">
                        <h6 class="text-muted text-uppercase small fw-semibold mb-3">Recent Searches</h6>
                        <div class="d-flex flex-wrap gap-2">
                            <button type="button" class="btn btn-sm btn-outline-secondary">
                                <i class="ti ti-clock me-1"></i>installation process
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">
                                <i class="ti ti-clock me-1"></i>user permissions
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">
                                <i class="ti ti-clock me-1"></i>API documentation
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">
                                <i class="ti ti-clock me-1"></i>troubleshooting
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">
                                <i class="ti ti-clock me-1"></i>configuration
                            </button>
                        </div>
                    </div>

                    <!-- Quick Tips -->
                    <div class="mt-4 p-3 bg-light rounded">
                        <h6 class="small fw-semibold mb-2">
                            <i class="ti ti-bulb me-1 text-warning"></i>Quick Tips
                        </h6>
                        <ul class="small mb-0 ps-3">
                            <li>Use spaces to separate multiple search terms</li>
                            <li>Fuzzy matching helps find results even with typos</li>
                            <li>Click recent searches to explore related topics</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Document Modal -->
    <div class="modal fade" id="addDocumentModal" tabindex="-1" aria-labelledby="addDocumentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addDocumentModalLabel">
                        <i class="ti ti-upload me-2"></i>Add Document
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <!-- Drop Zone -->
                    <div class="document-drop-zone mb-4" id="documentDropZone">
                        <div class="drop-zone-content text-center">
                            <i class="ti ti-cloud-upload" style="font-size: 3rem; color: #3a5693;"></i>
                            <h5 class="mt-3 mb-2">Drop files here or click to browse</h5>
                            <p class="text-muted small mb-3">Support for PDF, Word, Excel, ZIP and text files</p>
                            <input type="file" id="documentFileInput" class="d-none" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.zip,.txt">
                            <button type="button" class="btn btn-outline-primary" onclick="document.getElementById('documentFileInput').click()">
                                <i class="ti ti-folder-open me-1"></i>Browse Files
                            </button>
                        </div>
                    </div>

                    <!-- File List -->
                    <div id="documentFileList" class="document-file-list" style="display: none;">
                        <h6 class="small fw-semibold text-secondary text-uppercase mb-3">Selected Files</h6>
                        <div id="fileListContainer" class="d-flex flex-column gap-2"></div>
                    </div>

                    <!-- Description Field -->
                    <div class="mt-4">
                        <label for="documentDescription" class="form-label small fw-semibold">Description (optional)</label>
                        <textarea class="form-control" id="documentDescription" rows="3" placeholder="Add a description for these documents..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="uploadDocumentBtn" disabled>
                        <i class="ti ti-upload me-1"></i>Upload Documents
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Permissions Modal -->
    <div class="modal fade" id="permissionsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0 pb-0">
                    <ul class="nav nav-underline kb-footer-nav flex-fill mb-0" id="permissionsTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="permissions-tab-btn" data-bs-toggle="tab" data-bs-target="#permissions-tab" type="button" role="tab" aria-controls="permissions-tab" aria-selected="true">
                                <i class="ti ti-lock me-1"></i>Permissions
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="sharing-tab-btn" data-bs-toggle="tab" data-bs-target="#sharing-tab" type="button" role="tab" aria-controls="sharing-tab" aria-selected="false">
                                <i class="ti ti-share me-1"></i>Sharing
                            </button>
                        </li>
                    </ul>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="tab-content">
                        <div class="tab-pane fade show active text-center" id="permissions-tab" role="tabpanel" aria-labelledby="permissions-tab-btn">
                            <img src="assets/permissions.png" alt="Permissions mockup">
                        </div>
                        <div class="tab-pane fade" id="sharing-tab" role="tabpanel" aria-labelledby="sharing-tab-btn">
                            <div class="card border-0">
                                <div class="card-body">
                                    <div class="form-check form-switch mb-2">
                                        <input class="form-check-input" type="checkbox" id="shareToggle" checked>
                                        <label class="form-check-label" for="shareToggle"><i class="ti ti-link text-primary"></i> Enable public sharing</label>
                                    </div>
                                    <div class="input-group mb-3">
                                        <input type="text" class="form-control" value="https://glpi.example.com/kb/share/?token=abc123" readonly>
                                        <button class="btn btn-outline-secondary" type="button"><i class="ti ti-copy"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Icon Editor Modal -->
    <div class="modal fade" id="iconEditorModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0 pb-0">
                    <ul class="nav nav-underline kb-footer-nav flex-fill mb-0" id="iconEditorTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="pick-icon-tab-btn" data-bs-toggle="tab" data-bs-target="#pick-icon-tab" type="button" role="tab" aria-controls="pick-icon-tab" aria-selected="true">
                                <i class="ti ti-palette me-1"></i>Pick an illustration
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="upload-icon-tab-btn" data-bs-toggle="tab" data-bs-target="#upload-icon-tab" type="button" role="tab" aria-controls="upload-icon-tab" aria-selected="false">
                                <i class="ti ti-upload me-1"></i>Upload your own illustration
                            </button>
                        </li>
                    </ul>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">

                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="pick-icon-tab" role="tabpanel" aria-labelledby="pick-icon-tab-btn">
                            <div class="mb-3">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text bg-light border-0">
                                        <i class="ti ti-search text-muted"></i>
                                    </span>
                                    <input type="text" class="form-control border-0 bg-light" placeholder="Search icons...">
                                </div>
                            </div>
                            <div class="icon-picker-container">
                                <img src="assets/icons_picker.png" alt="Icon picker" class="img-fluid" style="max-height: 500px; width: 100%; object-fit: cover; border-radius: 8px;">
                            </div>
                            <nav class="mt-3" aria-label="Icon pagination">
                                <ul class="pagination pagination-sm justify-content-center mb-0">
                                    <li class="page-item disabled">
                                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                                    </li>
                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                    <li class="page-item">
                                        <a class="page-link" href="#">Next</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                        <div class="tab-pane fade" id="upload-icon-tab" role="tabpanel" aria-labelledby="upload-icon-tab-btn">
                            <div class="icon-drop-zone" id="iconDropZone">
                                <div class="drop-zone-content text-center">
                                    <i class="ti ti-cloud-upload" style="font-size: 3rem; color: #3a5693;"></i>
                                    <h5 class="mt-3 mb-2">Drop your SVG here or click to browse</h5>
                                    <p class="text-muted small mb-3">SVG format recommended (max 2MB)</p>
                                    <input type="file" id="iconFileInput" class="d-none" accept=".svg,.png,.jpg,.jpeg">
                                    <button type="button" class="btn btn-outline-primary" onclick="document.getElementById('iconFileInput').click()">
                                        <i class="ti ti-folder-open me-1"></i>Browse Files
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">
                        <i class="ti ti-check me-1"></i>Apply Icon
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
